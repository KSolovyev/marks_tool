

# Скриптик для автоматической простановки оценок в ведомости park.mail.ru

Если вы хоть раз делали это на протяжении семестра, у вас не возникнет вопроса "зачем?"

## Настройка среды
1. Для работы нужен python 2.7. Обычно он установлен по умолчанию, но если нет:
https://www.python.org/download/releases/2.7/

2. Дальше ставим virtualenv
https://virtualenv.pypa.io/en/stable/installation/

3. Устанавливаем зависимости. В папке проекта выполнить
`pip install -r requirements.txt`

Среда готова


## Выставляем параметры
1. Здесь понадобиться браузер chrome, YA.bro или аналог с инструментами разработчика. Включаем вкладку с сетевыми вызовами.

2. Идем на park.mail.ru, открываем Личный кабинет и ищим вызов на `https://park.mail.ru/rest_api/discipline_versions/<DISCIPLINE>/students/`.
Он может отображаться, как просто `/students/`. Тогда на него надо кликнуть и посмотреть подробности.
Запоминаем цифру DISCIPLINE из адреса, она нам еще понадобится. 
Щелкаем правой кнопкой на этом вызове и нажимаем Copy -> Copy Request Headers и вставляем в любимый текстовый редактор.
 
3. Из заголовков нам понадобятся два параметра из Cookie. `csrf_token` и `sessionid_gtp`. 
Копируем их и вставляем в соответствующие поля файлика `constants.py`. Туда же идет и id дисциплины, DISCIPLINE


## Таблица с оценками
Подставляется в поле MARKS_TO_SET. Цифра в листе - это соответствующая цифра в ведомости. Те оценки, которые в поле не проставлены,
программа не трогает. Выглядит так:
```python
      {
         u"Пупкин Василий": [0],
         u"Новхудовиченко Владимир": [0, 5]
      }
```
Я, лично, получаю этот формат редактированием csv файлика в sublime

## Запуск
`python marks.py`
